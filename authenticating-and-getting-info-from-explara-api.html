<!DOCTYPE html>
<html lang="en">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">


        <title>Authenticating And Getting Info From Explara API</title>

            <link href="feeds/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Sanyam Khurana Full RSS Feed" />
            <link href="feeds/feeds/{slug}.rss.xml" type="application/rss+xml" rel="alternate" title="Sanyam Khurana Categories RSS Feed" />
        <!-- Bootstrap Core CSS -->
        <link href="https://www.sanyamkhurana.com/blog/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="https://www.sanyamkhurana.com/blog/theme/css/clean-blog.min.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="https://www.sanyamkhurana.com/blog/theme/css/code_blocks/darkly.css" rel="stylesheet">


        <!-- Custom Fonts -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->



        <meta name="description" content="PyDelhi is organizing a mini PyCon this year with the name PyDelhi Conf. And we all are having a great time working behind the scenes to...">

        <meta name="author" content="Sanyam Khurana">


	                <meta property="og:locale" content="">
		<meta property="og:site_name" content="Sanyam Khurana">

	<meta property="og:type" content="article">
            <meta property="article:author" content="https://www.sanyamkhurana.com/blog/author/sanyam-khurana.html">
	<meta property="og:url" content="https://www.sanyamkhurana.com/blog/authenticating-and-getting-info-from-explara-api.html">
	<meta property="og:title" content="Authenticating And Getting Info From Explara API">
	<meta property="article:published_time" content="2016-01-13 00:53:00+05:30">
            <meta property="og:description" content="PyDelhi is organizing a mini PyCon this year with the name PyDelhi Conf. And we all are having a great time working behind the scenes to...">

            <meta property="og:image" content="https://www.sanyamkhurana.com/blog/theme/images/post-bg.jpg">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@ErSanyamKhurana">
        <meta name="twitter:title" content="Authenticating And Getting Info From Explara API">

            <meta name="twitter:image" content="https://www.sanyamkhurana.com/blog/theme/images/post-bg.jpg">

            <meta name="twitter:description" content="PyDelhi is organizing a mini PyCon this year with the name PyDelhi Conf. And we all are having a great time working behind the scenes to...">
</head>

<body class="article-authenticating-and-getting-info-from-explara-api">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://www.sanyamkhurana.com/blog/">Sanyam Khurana</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                            <li><a href="https://www.sanyamkhurana.com/blog/pages/about.html">About</a></li>
                            <li><a href="https://www.sanyamkhurana.com/blog/pages/contact.html">Contact</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('https://www.sanyamkhurana.com/blog/theme/images/post-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Authenticating And Getting Info From Explara API</h1>
                        <span class="meta">Posted by
                                <a href="https://www.sanyamkhurana.com/blog/author/sanyam-khurana.html">Sanyam Khurana</a>
                             on Wed 13 January 2016
                        </span>
                        
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <!-- Post Content -->
    <article>
        <p>PyDelhi is organizing a mini PyCon this year with the name PyDelhi Conf.
And we all are having a great time working behind the scenes to make it
a success. I'm contributing to building up the website for the confrence
(conference.pydelhi.org).</p>
<p>So, there was this task of fetching the no. of tickets left for the
conference from explara and displaying it on the website. I picked it up
and had a look at Explara API. And Bingo! I noticed the tickets
end-point, which would contain the remaining tickets in the JSON format.</p>
<div class="line-block">
<div class="line">I got into reading about accessing api. There are two methods, one is for user access and another one is for app access.</div>
</div>
<div class="line-block">
<div class="line">Since user access is good enough for the kind of work we're thinking to do, I decided to go by first method and generated the access token from my personal account and made a test event for testing purpose.</div>
</div>
<p>After several tries and errors, I was not able to authenticate the API.
It was either giving me 401 or 403. Then after a day, I contacted
Anuvrat &amp; Saurabh on IRC. Also, I reached to Rishabh. Rishabh told me
that he was able to authenticate for the app method which uses OAuth2.
Then he tried for the user method and told me. And there I am.</p>
<p>Doing a blunder. The Authorization token in the header would be
preceeded by 'Bearer' so the header would be:</p>
<div class="line-block">
<div class="line">Key: Authorization</div>
<div class="line-block">
<div class="line">Value: Bearer &lt;YOUR_API_KEY&gt;</div>
</div>
</div>
<p>And then voila, it was authorized. Soon to my surprise, it was giving me
E007 which is a custom status code of explara which implies that eventId
is incorrect. I just clicked on edit on my event and in the url I found
something like</p>
<p>eid/116168</p>
<p>And I thought, yeah, that's the eventId I started passing it. But always
I was getting E007. Rishabh was also trying but he was also not able to
get the response 200.</p>
<p>At around 12.30 AM Rishabh told me that he's going to sleep, and would
try tomorrow. But I decided to try more. I googled on how to find the
eventId of explara event, but no concrete answer. I kept on trying, and
then decided to have a look at other methods API is offering.</p>
<div class="line-block">
<div class="line">There was an endpoint to get all events which require no parameters to be passed. I hit that end-point and there I was.</div>
<div class="line-block">
<div class="line">I got the event details as JSON and find the eventId of the event I created.</div>
</div>
</div>
<div class="line-block">
<div class="line">Now I took that eventId and hit the ticket end point to get the details, but there was always E007 error. I tried different methods to pass eventId parameter. I tried to pass it in a JSON body, but no success.</div>
<div class="line-block">
<div class="line">Then I tried x-www-form-urlencoded and then the error code changed. I quickly searched, and got to know that I need to change the content-type of my request in the header.</div>
</div>
</div>
<p>I changed the header and added:</p>
<div class="line-block">
<div class="line">Key: Content-Type</div>
<div class="line">Value: application/x-www-form-urlencoded</div>
</div>
<p>and bingo! I got the ticket status</p>
<div class="line-block">
<div class="line">Now I just wrote a simple flask script to issue the request and then display the tickets left in JSON format.</div>
<div class="line-block">
<div class="line">And here it is:</div>
</div>
</div>
<p><a class="reference external" href="https://github.com/CuriousLearner/explara-ticket-status">https://github.com/CuriousLearner/explara-ticket-status</a>
|  Also forked to PyDelhi:
<a class="reference external" href="https://github.com/PyDelhi/explara-ticket-status">https://github.com/PyDelhi/explara-ticket-status</a></p>
<p>At 3:05 AM the task was completed, and I was pretty much happy about it.
A good learning experience and I hope that someone would find it useful
while working with explara api. Lack of examples caused more time on
this than was really needed.</p>

    </article>


    <hr>

        <div class="comments">
            <h2>Comments !</h2>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'curiouslearner';
                var disqus_identifier = 'authenticating-and-getting-info-from-explara-api.html';
                var disqus_url = 'https://www.sanyamkhurana.com/blog/authenticating-and-getting-info-from-explara-api.html';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//curiouslearner.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                            <li>
                                <a href="https://twitter.com/ErSanyamKhurana">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/CuriousLearner">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://facebook.com/CuriousLearner">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="mailto:sanyam@sanyamkhurana.com">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.sanyamkhurana.com/blog/feeds/all.rss.xml">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-feed fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                    </ul>
<p class="copyright text-muted">
    Blog powered by <a href="http://getpelican.com">Pelican</a>,
    which takes great advantage of <a href="http://python.org">Python</a>. <br />        &copy;  Sanyam Khurana
</p>                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="https://www.sanyamkhurana.com/blog/theme/js/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="https://www.sanyamkhurana.com/blog/theme/js/bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="https://www.sanyamkhurana.com/blog/theme/js/clean-blog.min.js"></script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-61049901-1', 'auto');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
    var disqus_shortname = 'curiouslearner';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>

</html>