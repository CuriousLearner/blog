<!DOCTYPE html>
<html lang="en">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Sanyam Khurana">


        <title>Mercurial commands list for contributing to Mozilla</title>

            <link href="feeds/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Sanyam Khurana Full RSS Feed" />
            <link href="feeds/feeds/experience.rss.xml" type="application/rss+xml" rel="alternate" title="Sanyam Khurana Categories RSS Feed" />
        <!-- Bootstrap Core CSS -->
        <link href="http://SanyamKhurana.com/blog/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="http://SanyamKhurana.com/blog/theme/css/clean-blog.min.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="http://SanyamKhurana.com/blog/theme/css/code_blocks/darkly.css" rel="stylesheet">


        <!-- Custom Fonts -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->



        <meta name="description" content="Most of the Mozilla's project uses Mercurial as a version control tool. I've worked in different projects of Mozilla and I found that ...">

        <meta name="author" content="Sanyam Khurana">

        <meta name="tags" content="mozilla">
        <meta name="tags" content="remo">
        <meta name="tags" content="mozilla-rep">

	                <meta property="og:locale" content="">
		<meta property="og:site_name" content="Sanyam Khurana">

	<meta property="og:type" content="article">
            <meta property="article:author" content="Sanyam Khurana" >
	<meta property="og:url" content="http://SanyamKhurana.com/blog/mozilla-mercurial-commands.html">
	<meta property="og:title" content="Mercurial commands list for contributing to Mozilla">
	<meta property="article:published_time" content="2017-05-07 21:15:00+05:30">
            <meta property="og:description" content="Most of the Mozilla's project uses Mercurial as a version control tool. I've worked in different projects of Mozilla and I found that ...">

            <meta property="og:image" content="http://SanyamKhurana.com/blog/theme/images/post-bg.jpg">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://SanyamKhurana.com/blog/">Sanyam Khurana</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                            <li><a href="http://SanyamKhurana.com/blog/pages/about.html">About</a></li>
                            <li><a href="http://SanyamKhurana.com/blog/pages/contact.html">Contact</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('http://SanyamKhurana.com/blog/theme/images/post-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Mercurial commands list for contributing to Mozilla</h1>
                        <span class="meta">Posted by
                                <a href="http://SanyamKhurana.com/blog/author/sanyam-khurana.html">Sanyam Khurana</a>
                             on Sun 07 May 2017
                        </span>
                        
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <!-- Post Content -->
    <article>
        <p>Most of the Mozilla's project uses Mercurial as a version control tool. I've worked in different projects of Mozilla and I found that most people still prefer git over mercurial and use <a class="reference external" href="https://github.com/glandium/git-cinnabar">git-cinnabar</a> as a bridge to do all version control stuff in git and then prepare mercurial ready patches.</p>
<p>Although this approach is quite good and people like me who are more familiar with git should do it this way. But, I wanted to get acquainted with Mercurial as a version control tool and tried to do it the hard way (Most of the time my mentors were not able to help me since they used git and I used Mercurial). Mercurial works on basis of changesets. In this blog post, I'm keeping notes of various common commands that would help me and anyone navigate their way using mercurial.</p>
<p>These notes assume that you've basic familarity with various terminologies used in DVCS such as git. I've also mentioned analogies to how both version control systems work. (Something that took me time to figure out).</p>
<div class="section" id="mercurial-commands">
<h2>Mercurial Commands</h2>
<p>Mercurial works on basis of changesets. Here are the common commands that you can use throughout Mozilla's projects:</p>
<p><tt class="docutils literal">Pull changes from remote repository to local</tt></p>
<p>No! This is not same as <tt class="docutils literal">git pull</tt>! Read out the next command to understand the analogy.</p>
<pre class="code bash literal-block">
hg pull
</pre>
<p><tt class="docutils literal">Always update to the tip of repo</tt></p>
<pre class="code bash literal-block">
hg update
</pre>
<p><strong>Note</strong> : This is different from <tt class="docutils literal">git pull</tt>. <tt class="docutils literal">git pull</tt> essentially does <tt class="docutils literal">git fetch</tt> i.e. fetch remote changes to local and then do <tt class="docutils literal">git merge</tt> which updates the local copy of your code.</p>
<p>So, <tt class="docutils literal">git pull</tt> = <tt class="docutils literal">git fetch</tt> + <tt class="docutils literal">git merge</tt></p>
<p>But in case of mercurial, <tt class="docutils literal">hg pull</tt> just fetches remote changes to local. It does not however update your working copy. If you want to update your local copy, then you should do <tt class="docutils literal">hg update</tt>.</p>
<p><tt class="docutils literal">Update to specific revision of the repo</tt></p>
<p>Here we update to revision 0 with <cite>-r</cite> option. <cite>r</cite> stands for <cite>revision</cite>.</p>
<pre class="code bash literal-block">
hg update -r 0
</pre>
<p><tt class="docutils literal">See file a.txt at revision 0</tt></p>
<pre class="code bash literal-block">
hg cat -r <span class="m">0</span> a.txt
</pre>
<p><tt class="docutils literal">See difference from revision 0 to 1 in file a.txt</tt></p>
<pre class="code bash literal-block">
hg diff -r 0:1 a.txt
</pre>
<p><tt class="docutils literal">hg outgoing: What all changes are waiting to be pushed next</tt></p>
<pre class="code bash literal-block">
hg outgoing
</pre>
<p><tt class="docutils literal">hg incoming: Changes that are waiting to be brought in to your local from remote repository</tt></p>
<p>You can see if there are changes on the remote and see their diff with respect to your working copy.</p>
<pre class="code bash literal-block">
hg incoming
</pre>
<p><tt class="docutils literal">Difference between rollback and revert</tt></p>
<pre class="code bash literal-block">
If not committed <span class="k">then</span>:
    hg revert
<span class="k">else</span>:
    hg rollback
</pre>
<p><tt class="docutils literal">hg backout: To backout a changeset that has been added to tree. Analogous to git revert.</tt></p>
<p>In essence, what it does is, it looks at the changeset, figures out the opposite, and does that to your current working directory.</p>
<pre class="code bash literal-block">
hg backout -r <span class="m">2</span> --merge
</pre>
<p><tt class="docutils literal">Limit the logs you see</tt></p>
<p>By default hg log streams from tip till end. While working on large projects such as that of Mozilla with more than million commits, it is messy to let it just stream while you just wanted to see latest commits.</p>
<p>With -l option you define how many changesets you want to see. That's for displaying first 3 commits.</p>
<pre class="code bash literal-block">
hg log -l 3
</pre>
<p>I hope this shall help people who have familarity with git and are playing around with mercurial.</p>
<p>I'll be updating this post with more commands soon. If you think there is some important command that is not here, please mention that in comments and I'll add it here.</p>
</div>

    </article>

        <div class="tags">
            <p>tags: <a href="http://SanyamKhurana.com/blog/tag/mozilla.html">mozilla</a>, <a href="http://SanyamKhurana.com/blog/tag/remo.html">remo</a>, <a href="http://SanyamKhurana.com/blog/tag/mozilla-rep.html">mozilla-rep</a>, </p>
        </div>

<hr>
<div class="sharing">
</div>
    <hr>

    <section>
        <p id="post-share-links">
            <strong>Share on:</strong>
            <a href="http://twitter.com/home?status=Mercurial%20commands%20list%20for%20contributing%20to%20Mozilla%20http%3A//SanyamKhurana.com/blog/mozilla-mercurial-commands.html" target="_blank" title="Share on Twitter">Twitter</a>
            ❄
            <a href="http://www.facebook.com/sharer/sharer.php?u=http%3A//SanyamKhurana.com/blog/mozilla-mercurial-commands.html" target="_blank" title="Share on Facebook">Facebook</a>
            ❄
            <a href="https://plus.google.com/share?url=http%3A//SanyamKhurana.com/blog/mozilla-mercurial-commands.html" target="_blank" title="Share on Google Plus">Google+</a>
            ❄
            <a href="mailto:?subject=Mercurial%20commands%20list%20for%20contributing%20to%20Mozilla&amp;body=http%3A//SanyamKhurana.com/blog/mozilla-mercurial-commands.html" target="_blank" title="Share via Email">Email</a>
        </p>
    </section>

        <div class="comments">
            <h2>Comments !</h2>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'curiouslearner';
                var disqus_identifier = 'mozilla-mercurial-commands.html';
                var disqus_url = 'http://SanyamKhurana.com/blog/mozilla-mercurial-commands.html';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//curiouslearner.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>

            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                            <li>
                                <a href="https://twitter.com/ErSanyamKhurana">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/CuriousLearner">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://facebook.com/CuriousLearner">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="mailto:sanyam@sanyamkhurana.com">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="http://www.sanyamkhurana.com/blog/feeds/all.rss.xml">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-feed fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                    </ul>
<p class="copyright text-muted">
    Blog powered by <a href="http://getpelican.com">Pelican</a>,
    which takes great advantage of <a href="http://python.org">Python</a>.
</p>                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="http://SanyamKhurana.com/blog/theme/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="http://SanyamKhurana.com/blog/theme/js/bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="http://SanyamKhurana.com/blog/theme/js/clean-blog.min.js"></script>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-61049901-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'curiouslearner';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>

</html>